## Работа с датами и временем в Java

### **Date**

Класс `Date` из пакета `java.util` представляет определенный момент времени с точностью до миллисекунд. Этот класс имплементирует интерфейсы `Serializable`, `Cloneable` и `Comparable` и предоставляет конструкторы и методы для работы с датой и временем.

#### **Конструкторы:**

1. **Date()** - Создает объект даты, представляющий текущую дату и время.
2. **Date(long milliseconds)** - Создает объект даты для заданных миллисекунд с 1 января 1970 года.
3. **Date(int year, int month, int date)** - Устаревший.
4. **Date(int year, int month, int date, int hrs, int min)** - Устаревший.
5. **Date(int year, int month, int date, int hrs, int min, int sec)** - Устаревший.
6. **Date(String s)** - Устаревший.

#### **Важные методы:**

- **boolean after(Date date)** - Возвращает `true`, если текущая дата позже указанной.
- **boolean before(Date date)** - Возвращает `true`, если текущая дата раньше указанной.
- **int compareTo(Date date)** - Сравнивает две даты.
- **boolean equals(Object object)** - Возвращает `true`, если даты совпадают.
- **long getTime()** - Возвращает количество миллисекунд, прошедших с 1 января 1970 года.
- **void setTime(long milliseconds)** - Устанавливает время и дату в виде числа миллисекунд, прошедших с 1 января 1970 года.

### **Calendar и GregorianCalendar**

Абстрактный класс `Calendar` позволяет преобразовать время в миллисекундах в более удобном виде - год, месяц, день, часы, минуты, секунды. Важно отметить, что отсчет месяцев идет от 0.

#### **Методы:**

- **get()** - Получение нужных отрезков времени.
- **set()** - Изменение временного состояния объекта.
- **add()** - Сдвиг даты на определенный период.

### **SimpleDateFormat**

Класс `SimpleDateFormat` является подклассом класса `DateFormat` и позволяет определять собственные шаблоны форматирования для отображения даты и времени.

#### **Примеры шаблонов:**

- **A** - AM или PM
- **d** - День месяца (1-31)
- **H** - Часы в формате AM/PM (1-12)
- **m** - Минуты (0-59)
- **s** - Секунды (0-59)
- **y** - Год
- **z** - Часовой пояс

### **LocalDate**

Класс `LocalDate` из пакета `java.time` предназначен для работы с датами и представляет собой неизменяемый объект даты без времени.

#### **Важные методы:**

- **LocalDate now()** - Возвращает текущую дату.
- **LocalDate of(int year, int month, int day)** - Возвращает дату с заданными годом, месяцем и днем.
- **int getYear()** - Возвращает год.
- **int getMonthValue()** - Возвращает месяц.
- **int getDayOfMonth()** - Возвращает день месяца.
- **DayOfWeek getDayOfWeek()** - Возвращает день недели.
- **LocalDate plusDays(int n)** - Добавляет к дате несколько дней.
- **LocalDate minusDays(int n)** - Отнимает от даты несколько дней.

### **LocalDateTime**

Класс `LocalDateTime` представляет собой комбинацию `LocalDate` и `LocalTime` и предназначен для работы с датами и временем без учета часового пояса.

#### **Важные методы:**

- **LocalDateTime now()** - Возвращает текущую дату и время.
- **LocalDateTime of(int year, int month, int day, int hour, int minute, int second, int nanoOfSecond)** - Создает объект с заданными параметрами.
- **LocalDateTime plusDays(long days)** - Добавляет дни.
- **LocalDateTime minusDays(long days)** - Отнимает дни.
- **LocalDateTime format(DateTimeFormatter formatter)** - Форматирует дату-время.

### **ZonedDateTime**

Класс `ZonedDateTime` представляет собой неизменяемый объект, представляющий дату и время с учетом часового пояса.

#### **Важные методы:**

- **ZonedDateTime now()** - Возвращает текущую дату и время с учетом часового пояса.
- **ZoneId getZone()** - Возвращает часовой пояс.
- **ZonedDateTime plusDays(long days)** - Добавляет дни.
- **ZonedDateTime minusDays(long days)** - Отнимает дни.
- **String format(DateTimeFormatter formatter)** - Форматирует дату-время.

## Форматирование 

### **Символы для форматирования дат и времени**

#### **Год**
- **y** - Год (например, 1996; 96)
- **Y** - Неделя-году (например, 2009; 09)

#### **Месяц**
- **M** - Месяц в году (например, July; Jul; 07)

#### **День**
- **d** - День месяца (например, 1-31)
- **D** - День в году (например, 1-365)
- **F** - День недели в месяце (например, 2 для второго понедельника в месяце)
- **E** - День недели (например, Tuesday; Tue)
- **u** - День недели в числовом формате (например, 1 для понедельника, 7 для воскресенья)

#### **Ам/Пм**
- **a** - AM/PM маркер (например, AM, PM)

#### **Часы**
- **H** - Часы в 24-часовом формате (например, 0-23)
- **k** - Часы в 24-часовом формате (например, 1-24)
- **K** - Часы в 12-часовом формате (например, 0-11)
- **h** - Часы в 12-часовом формате (например, 1-12)

#### **Минуты**
- **m** - Минуты (например, 0-59)

#### **Секунды**
- **s** - Секунды (например, 0-59)
- **S** - Миллисекунды (например, 0-999)

#### **Часовой пояс**
- **z** - Часовой пояс (например, Pacific Standard Time; PST; GMT-08:00)
- **Z** - Часовой пояс в RFC 822 формате (например, -0800)
- **X** - Часовой пояс в ISO 8601 формате (например, -08; -0800; -08:00)

### **Примеры форматирования**

### **Описание примеров форматирования**

- **"EEEE, dd MMMM, yyyy HH:mm:ss.SSS z"** - Полная дата и время с названием дня недели, месяца, года, часов, минут, секунд, миллисекунд и часового пояса.
- **"yyyy-MM-dd"** - Только дата в формате год-месяц-день.
- **"HH:mm:ss"** - Только время в 24-часовом формате.
- **"E, MMM dd yyyy"** - День недели, месяц, день и год.
- **"hh:mm:ss a"** - Часы, минуты, секунды и AM/PM в 12-часовом формате.
- **"Z"** - Часовой пояс в формате RFC 822.
- **"yyyy-MM-dd'T'HH:mm:ss.SSSXXX"** - ISO 8601 формат с часовым поясом.

## Временные зоны

Временные зоны играют важную роль в синхронизации времени по всему миру. Они обеспечивают единое стандартное время для юридических, коммерческих и социальных целей в разных регионах. Временные зоны обычно следуют границам стран и их подразделений, а не строго следуют долготе, поскольку это удобно для областей с частым взаимодействием.

#### **Основные понятия**

- **Временная зона** — это область, в которой используется единое стандартное время.
- **UTC (Coordinated Universal Time)** — это всемирный стандарт времени, от которого отсчитываются все временные зоны.
- **Смещение UTC** — разница между местным временем в временной зоне и UTC, выраженная в часах и минутах

#### **Особенности временных зон**

1. **Смещение от UTC**
   - Каждая временная зона определяется своим смещением от UTC. Смещения варьируются от UTC−12:00 до UTC+14:00.
   - Некоторые временные зоны имеют дополнительное смещение на 30 или 45 минут, например, в Индии и Непале.

2. **Летнее время (DST)**
   - В некоторых регионах используется летнее время, когда местное время переводится на один час вперед весной и возвращается обратно осенью.
   - Например, Калифорния использует Pacific Daylight Time (PDT) в период летнего времени и Pacific Standard Time (PST) в остальное время года.

3. **Международная линия перемены дат (IDL)**
   - IDL — это воображаемая линия на поверхности Земли, определяющая границу между двумя последовательными календарными днями. Она проходит примерно по 180° долготы.

#### **Примеры временных зон и их смещений**

| Смещение UTC | Пример местоположения | Название временной зоны |
|--------------|-----------------------|-------------------------|
| UTC+12       | Новая Зеландия        | NZST (New Zealand Standard Time) |
| UTC+11       | Соломоновы Острова    | SBT (Solomon Islands Time) |
| UTC+10       | Австралия             | AEST (Australian Eastern Standard Time) |
| UTC+9        | Япония                | JST (Japan Standard Time) |
| UTC+8        | Китай                 | CST (China Standard Time) |
| UTC+7        | Таиланд               | ICT (Indochina Time) |
| UTC+6        | Бангладеш             | BST (Bangladesh Standard Time) |
| UTC+5        | Пакистан              | PKT (Pakistan Standard Time) |
| UTC+4        | Объединенные Арабские Эмираты | GST (Gulf Standard Time) |
| UTC+3        | Россия (Москва)       | MSK (Moscow Standard Time) |
| UTC+2        | Южная Африка          | SAST (South Africa Standard Time) |
| UTC+1        | Центральная Европа    | CET (Central European Time) |
| UTC+0        | Великобритания        | GMT (Greenwich Mean Time) |
| UTC-1        | Кабо-Верде            | CVT (Cape Verde Time) |
| UTC-2        | Бразилия              | FNT (Fernando de Noronha Time) |
| UTC-3        | Аргентина             | ART (Argentina Time) |
| UTC-4        | Венесуэла             | VET (Venezuelan Standard Time) |
| UTC-5        | США (Восточное время) | EST (Eastern Standard Time) |
| UTC-6        | Мексика               | CST (Central Standard Time) |
| UTC-7        | США (Горное время)    | MST (Mountain Standard Time) |
| UTC-8        | США (Тихоокеанское время) | PST (Pacific Standard Time) |
| UTC-9        | Аляска                | AKST (Alaska Standard Time) |
| UTC-10       | Гавайи                | HST (Hawaii Standard Time) |
| UTC-11       | Американское Самоа    | SST (Samoa Standard Time) |
| UTC-12       | Бейкер-Айленд         | AoE (Anywhere on Earth Time) |

#### **Работа с временными зонами в Java**

В Java для работы с временными зонами используется класс `ZoneId`. Пример использования:

- https://en.wikipedia.org/wiki/Time_zone
- https://www.ryanthomson.net/articles/practical-guide-timezones/
- https://simple.wikipedia.org/wiki/Time_zone
- https://www.bbc.co.uk/bitesize/articles/zjk46v4
- https://www.timeanddate.com/time/current-number-time-zones.html


## Тренировка

### Техническое задание (ТЗ)

**Проект:** Система управления задачами (Task Management System)

**Описание:** Разработать систему управления задачами, которая позволяет пользователям создавать, редактировать, удалять и просматривать задачи. Каждая задача должна содержать информацию о дате и времени создания, дедлайне, а также временной зоне пользователя. Система должна поддерживать различные форматы отображения даты и времени для удобства пользователей.

### **Требования к функционалу:**

#### **1. Создание задачи**

- Пользователь должен иметь возможность создать новую задачу, указав следующие поля:
  - Название задачи
  - Описание задачи
  - Дата и время создания (автоматически устанавливается на текущую дату и время)
  - Дедлайн (дата и время, до которого задача должна быть выполнена)
  - Временная зона пользователя

#### **2. Редактирование задачи**

- Пользователь должен иметь возможность редактировать существующую задачу, изменяя любые из следующих полей:
  - Название задачи
  - Описание задачи
  - Дедлайн
  - Временная зона

#### **3. Удаление задачи**

- Пользователь должен иметь возможность удалить существующую задачу.

#### **4. Просмотр задач**

- Пользователь должен иметь возможность просматривать список всех задач с отображением следующих полей:
  - Название задачи
  - Описание задачи
  - Дата и время создания
  - Дедлайн
  - Временная зона

#### **5. Форматирование даты и времени**

- Система должна поддерживать различные форматы отображения даты и времени. Пользователь должен иметь возможность выбрать формат из следующих вариантов:
  - Полная дата и время (например, "EEEE, MMMM dd, yyyy HH:mm:ss.SSS z")
  - Только дата (например, "yyyy-MM-dd")
  - Только время (например, "HH:mm:ss")
  - День недели, месяц, день и год (например, "E, MMM dd yyyy")
  - Часы, минуты, секунды и AM/PM (например, "hh:mm:ss a")

### **Технические требования:**

- **Язык программирования:** Java
- **Форматирование даты и времени:** Использовать классы `SimpleDateFormat`, `LocalDate`, `LocalDateTime` и `ZonedDateTime` для работы с датами и временем.
- **Интерфейс пользователя:** готовимся к использованию web-интерфейса, т е данные упаковываются в json-формате.

Замечание: учитывайте специфику работы со знакомыми вам библиотеками, фреймворками, и субд.
